#include <stdio.h>
#include <stdlib.h>
#include <ctype.h>
#include <string.h>

int main(void) {
	// The first code book. 
	//                     A    B    C    D    E    F    G    H    I    J    K    L    M    
	char code_book[26] = {'N', 'E', 'I', 'Q', 'O', 'Y', 'A', 'R', 'D', 'C', 'S', 'H', 'X',  
	//                     N    O    P    Q    R    S    T    U    V    W    X    Y    Z   
  	                      'Z', 'B', 'P', 'J', 'T', 'K', 'U', 'F', 'L', 'V', 'G', 'W', 'M'};
	char decode_book[26]; // Decode book, generated by the program.
	char keyword[41]; // The keyword.
	int selected_book;
	int key_leng; // The length of the keyword. 
	char original_text[101]; // The original input text.
	char encoded_text[101]; // Encoded text.
	char decoded_text[101]; // Decoded text.
	int i, j; // Loop variable. 
	
	// Input a keyword and an English text.
	printf("Enter a keyword: "); // Input the keyword;
	scanf("%s", &keyword);
	getchar();
	printf("\n");
	key_leng = strlen(keyword); // Length of the keyword. 
  
	printf("Enter a line of English text: "); // Input the testing text.
	i = 0; // Inintial loop varible i to 0.
	do {
		original_text[i++] = getchar(); // Input a character from the console.
	} while (original_text[i-1] != '\n'); // Stop until the newline.
	original_text[i-1] = '\0'; // Insert end-of-string.

	// Output the keyword and the original text.	
	printf("\n**** The keyword is: %s\n", keyword); // Ouput the keyword.
	printf(">>>> The original text: %s\n\n", original_text); // Output the original text.
	
	// ***** Complete the program of the following steps.
	// Create the decode book.
	
	// Print the first code book and the first decode book.
	
	// Remove white spaces and punctuation symbols in the English text and convert 
	// all lower case letters to upper case letters.
	
	// Encode the text using the Vigenere square with the code book given in the 
	// substitutional Vigenere square and output the encoded text.
	// Note that code book selection is determined by the inverse mapping of the code 
	// book, i.e., the decode book.
	// Hint: Index of the selected code book is determined as the following statement,
	// selected_book = decode_book[keyword[j % key_leng] - 'A'] - 'A':  
	
	// Decode the encoded text and output the decoded text.

	return 0;
}
